{% extends 'base.html' %}

{% block content%}
  <header>
    <h1 class="container p-3 my-3 border d-flex justify-content-between align-items-center">
      TODO list
      <a class="btn btn-primary" href="{% url 'task-create' %}">Add Task</a>
    </h1>
  </header>

  {% for task in task_list %}
    <div class="container p-3 border">
      <div class="my-3 d-flex justify-content-between align-items-center">
        <p class="font-weight-bold">
          {{ task.content }}
          {% if task.is_completed %}
            <span style="color: green;">Completed</span>
          {% else %}
            <span style="color: red;">Not Completed</span>
          {% endif %}
        </p>
        {% if task.is_completed %}
          <a class="btn btn-secondary" href="{% url 'task-toggle-complete' pk=task.pk %}">Undo</a>
        {% else %}
        	<a class="btn btn-success" href="{% url 'task-toggle-complete' pk=task.pk %}">Complete</a>
        {% endif %}
      </div>

      <p>
        Created: {{ task.date_created }}
      </p>

      <p>
        Deadline: {{ task.deadline }}
      </p>

      <div class="d-flex align-items-center">
        <h5 style="color: gray; margin-right: 10px;">
          Tags:
          {% for tag in task.tag.all %}
            {{ tag.name }}
          {% endfor %}
        </h5>
        <a class="btn btn-info mr-2" href="{% url 'task-update' pk=task.pk %}">Update</a>
        <a class="btn btn-danger" href="{% url 'task-delete' pk=task.pk %}">Delete</a>
      </div>
    </div>
  {% endfor %}
{% endblock %}
